@layer components {

    .window-scroll {
        @apply max-h-[90vh] overflow-y-auto;
    }

    .icon {
        @apply p-1 hover:bg-gray-200 rounded hover:cursor-default;
    }

    #welcome {
        @apply text-gray-200 flex flex-col justify-center items-center absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 select-none max-sm:h-screen max-sm:w-full max-sm:px-10;

        .welcome-subtitle {
            @apply w-full max-w-[94vw] px-2 text-center leading-snug;
        }

        .small-screen {
            @apply sm:hidden m-7 bg-red-300/20 backdrop-blur-lg p-3 rounded-md absolute top-10;

            .small-screen-message {
                @apply flex-1 text-[16px] text-center font-roboto text-gray-400;
            }
        }
    }

    #dock {
        @apply fixed bottom-5 left-1/2 -translate-x-1/2 z-[3000] select-none;

        .dock-container {
            @apply bg-white/20 backdrop-blur-md justify-between rounded-2xl p-1.5 flex items-end gap-1.5;
        }

        .dock-icon {
            @apply size-14 3xl:size-20 cursor-pointer;
        }
    }

    #window-controls {
        @apply flex gap-2;

        .close {
            @apply size-4 rounded-full bg-[#ff6157] cursor-pointer hover:bg-red-800 active:bg-red-900 transition-colors;
        }

        .minimize {
            @apply size-4 rounded-full bg-[#ffc030];
        }

        .maximize {
            @apply size-4 rounded-full bg-[#2acb42] cursor-pointer hover:bg-green-800;
        }
    }

    #window-header {
        @apply flex items-center justify-between px-4 py-3 rounded-t-lg bg-gray-50 border-b border-gray-200 select-none text-sm font-semibold text-gray-400 cursor-grab active:cursor-grabbing;
    }

    #safari {
        @apply w-4xl absolute top-15 left-2/12 mb-30 bg-white shadow-2xl drop-shadow-2xl rounded-xl overflow-hidden;

        &.window-maximized {
            margin-bottom: 0;
            display: flex;
            flex-direction: column;
        }

        &.window-maximized .safari-content-shell {
            display: flex;
            flex-direction: column;
            flex: 1;
            min-height: 0;
        }

        &.window-maximized .safari-scroll-fullscreen {
            flex: 1;
            min-height: 0;
            max-height: none;
            overflow-y: auto;
        }

        .search {
            @apply flex items-center gap-3 w-2/3 min-w-0 bg-white border border-gray-300 rounded-lg px-3 py-2;

            .search-input-box {
                @apply flex-1 min-w-0 bg-transparent outline-none placeholder:text-gray-400;
            }
        }

        .articles-list {
            @apply space-y-6;

            .article-row {
                @apply flex items-center gap-4 px-4 py-3 rounded-md cursor-pointer transition-colors duration-150;

                &:hover {
                    @apply bg-blue-100;
                }

            }
        }

    }

    #terminal {
        @apply w-xl absolute top-32 left-1/12 bg-black text-gray-200 shadow-2xl drop-shadow-2xl rounded-xl overflow-hidden;

        .techstack {
            @apply text-sm font-roboto p-5 text-gray-300;

            .label {
                @apply flex items-center ms-10 mt-7 text-gray-400;
            }

            .content {
                @apply py-5 my-5 border-y border-dashed border-gray-700 space-y-1;
            }

            .footnote {
                @apply space-y-1;
            }
        }
    }

    #contact {
        @apply max-w-2xl absolute top-40 left-5/12 bg-white shadow-2xl drop-shadow-2xl rounded-xl overflow-hidden;

        .social-cards-container {
            @apply flex items-center gap-3;

            .social-cards {
                @apply rounded-lg p-3 w-60 hover:-translate-y-0.5 hover:scale-105 origin-center transition-all duration-300;
            }
        }
    }

    #resume {
        @apply w-fit h-fit absolute top-16 left-7/12 bg-white shadow-2xl drop-shadow-2xl rounded-xl overflow-hidden max-h-[90vh];
    }

    #finder {
        @apply absolute w-3xl left-40 top-20 shadow-2xl drop-shadow-2xl overflow-hidden rounded-xl;

        .sidebar {
            @apply w-48 bg-gray-50 border-r border-gray-200 flex flex-col p-5 space-y-3;

            .sidebar-tabs-container {
                @apply space-y-1;

                .sidebar-list-item {
                    @apply flex items-center gap-2 px-3 py-2 rounded-md cursor-pointer transition-colors;
                }

                .active {
                    @apply bg-blue-100 text-blue-700;
                }

                .not-active {
                    @apply text-gray-700 hover:bg-gray-200;
                }

            }
        }

        .content {
            @apply flex-1 bg-white p-6 overflow-y-auto flex flex-wrap gap-6 content-start;

            .content-list-item {
                @apply flex flex-col items-center gap-3 w-28 cursor-pointer rounded-md p-2 hover:bg-gray-100 transition;
            }

        }
    }

    #txtfile {
        @apply w-md absolute top-36 right-32 bg-white shadow-2xl drop-shadow-2xl rounded-xl overflow-hidden;

    }

    #imgfile {
        @apply absolute top-40 left-2/12 bg-white shadow-2xl drop-shadow-2xl rounded-xl overflow-hidden;

    }


    #home {
        @apply relative z-0 top-12 h-full w-[25%] p-8 m-0 overflow-visible;

        .folder-grid-container {
            grid-template-rows: repeat(auto-fill, 150px);
            @apply grid grid-flow-col gap-4 content-start h-full overflow-visible;

            .object {
                @apply flex flex-col items-center justify-start w-28 p-2 rounded-lg cursor-pointer select-none;

                .folder-icon {
                    @apply w-16 h-16 p-1 object-contain rounded-md transition-transform transition-colors duration-150 ease-out will-change-transform group-hover:scale-[1.05] group-hover:bg-black/10 motion-reduce:transition-none;
                }

                .folder-title {
                    @apply mt-1 text-sm font-medium text-white text-center px-1.5 py-0.5 rounded line-clamp-2 leading-[1.2] max-h-[2.8em] overflow-hidden transition-colors duration-100 group-hover:bg-blue-500 motion-reduce:transition-none;
                }
            }
        }
    }
}

@media (max-width: 1024px) {
    #home {
        display: none;
    }

    #dock {
        @apply bottom-3;
    }

    #dock .dock-icon {
        @apply size-11;
    }

    #dock .dock-icon-active {
        @apply -translate-y-2 translate-x-0.5 scale-[1.06] transition-transform duration-200;
    }

    #window-header {
        @apply cursor-default;
    }

    #welcome .welcome-subtitle {
        @apply max-w-[92vw] text-lg;
    }

    #safari,
    #terminal,
    #contact,
    #resume,
    #finder,
    #txtfile,
    #imgfile {
        @apply rounded-none shadow-none;
    }

    #finder .sidebar {
        @apply w-28 p-2;
    }

    #finder .content {
        @apply p-3 gap-3;
    }

    #finder .content .content-list-item {
        @apply w-20;
    }

    #finder .content .content-list-item img {
        @apply size-12;
    }

    #safari #window-header {
        @apply gap-2 px-2;
    }

    #safari .search {
        @apply w-full px-2 py-1.5;
    }

    #safari .search .search-input-box {
        @apply text-xs;
    }

    #safari .pr-1 > div {
        @apply px-4;
    }

    #terminal .techstack {
        @apply p-3 text-xs;
    }

    #terminal .techstack .label {
        @apply ms-0 mt-4 gap-4;
    }

    #terminal .techstack .label p {
        @apply w-auto;
    }

    #contact {
        @apply max-w-none;
    }

    #contact .p-5 {
        @apply p-3;
    }

    #contact .social-cards-container {
        @apply flex-col items-stretch;
    }

    #resume canvas {
        @apply max-w-full h-auto;
    }

    #txtfile .p-5 {
        @apply p-3;
    }

    #imgfile > div {
        @apply p-3;
    }
}
